import org.Group2.ContinuousIntegrationServer;
import org.json.JSONObject;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import java.io.File;
import java.util.Scanner;

import static org.junit.jupiter.api.Assertions.*;

public class ContinousIntegrationServerTests {
    @Test
    public void TestCloneRepo() {
        try{
            ContinuousIntegrationServer.cloneRepo("main https://github.com/DD2480-GROUP-2/DD2480-CI.git");
            File pom = new File("./clonedRepo/pom.xml");
            File readme = new File("./clonedRepo/README.md");

            assertTrue(pom.exists(), "Error! pom.xml should exist!");
            assertTrue(readme.exists(), "Error! README.md should exist!");


        } catch(Exception e) {
            assertTrue(false, "Error! Failed to clone repository");
        }
    }

    @Test
    public void TestGetRepoURL() {
        ContinuousIntegrationServer server = new ContinuousIntegrationServer();
        String examplePushRequestJSONString = "{\"pusher\":{\"name\":\"flaxxen\",\"email\":\"felixqvarfordt@gmail.com\"},\"compare\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/compare/b4fab067b5fb...7d067ab24a0c\",\"head_commit\":{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"},\"before\":\"b4fab067b5fbd17a0003a638906bd144219c3501\",\"created\":false,\"forced\":false,\"repository\":{\"allow_forking\":true,\"stargazers_count\":0,\"is_template\":false,\"pushed_at\":1675784123,\"subscription_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscription\",\"language\":\"Java\",\"branches_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/branches{/branch}\",\"issue_comment_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/comments{/number}\",\"labels_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/labels{/name}\",\"subscribers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscribers\",\"releases_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/releases{/id}\",\"svn_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"id\":596587333,\"has_discussions\":false,\"master_branch\":\"main\",\"forks\":0,\"archive_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/{archive_format}{/ref}\",\"git_refs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/refs{/sha}\",\"forks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/forks\",\"visibility\":\"public\",\"statuses_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/statuses/{sha}\",\"ssh_url\":\"git@github.com:DD2480-GROUP-2/DD2480-CI.git\",\"license\":null,\"full_name\":\"DD2480-GROUP-2/DD2480-CI\",\"size\":22,\"languages_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/languages\",\"html_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"collaborators_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/collaborators{/collaborator}\",\"clone_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"name\":\"DD2480-CI\",\"pulls_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/pulls{/number}\",\"default_branch\":\"main\",\"hooks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/hooks\",\"trees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/trees{/sha}\",\"tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/tags\",\"private\":false,\"contributors_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contributors\",\"has_downloads\":true,\"notifications_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/notifications{?since,all,participating}\",\"open_issues_count\":8,\"description\":null,\"created_at\":1675347008,\"watchers\":0,\"keys_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/keys{/key_id}\",\"deployments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/deployments\",\"has_projects\":true,\"archived\":false,\"has_wiki\":true,\"updated_at\":\"2023-02-04T18:42:34Z\",\"comments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/comments{/number}\",\"stargazers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/stargazers\",\"disabled\":false,\"git_url\":\"git://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"has_pages\":false,\"owner\":{\"gists_url\":\"https://api.github.com/users/DD2480-GROUP-2/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/DD2480-GROUP-2/repos\",\"following_url\":\"https://api.github.com/users/DD2480-GROUP-2/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/DD2480-GROUP-2/starred{/owner}{/repo}\",\"login\":\"DD2480-GROUP-2\",\"followers_url\":\"https://api.github.com/users/DD2480-GROUP-2/followers\",\"type\":\"Organization\",\"url\":\"https://api.github.com/users/DD2480-GROUP-2\",\"subscriptions_url\":\"https://api.github.com/users/DD2480-GROUP-2/subscriptions\",\"received_events_url\":\"https://api.github.com/users/DD2480-GROUP-2/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/users/DD2480-GROUP-2/events{/privacy}\",\"html_url\":\"https://github.com/DD2480-GROUP-2\",\"name\":\"DD2480-GROUP-2\",\"site_admin\":false,\"id\":124386993,\"gravatar_id\":\"\",\"email\":null,\"node_id\":\"O_kgDOB2n-sQ\",\"organizations_url\":\"https://api.github.com/users/DD2480-GROUP-2/orgs\"},\"commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/commits{/sha}\",\"compare_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/compare/{base}...{head}\",\"git_commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/commits{/sha}\",\"topics\":[],\"blobs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/tags{/sha}\",\"merges_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/merges\",\"downloads_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/downloads\",\"has_issues\":true,\"web_commit_signoff_required\":false,\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"contents_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contents/{+path}\",\"mirror_url\":null,\"milestones_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/milestones{/number}\",\"teams_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/teams\",\"fork\":false,\"issues_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues{/number}\",\"stargazers\":0,\"events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/events\",\"issue_events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/events{/number}\",\"organization\":\"DD2480-GROUP-2\",\"assignees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/assignees{/user}\",\"open_issues\":8,\"watchers_count\":0,\"node_id\":\"R_kgDOI48zRQ\",\"homepage\":null,\"forks_count\":0},\"base_ref\":\"refs/heads/main\",\"ref\":\"refs/heads/6-get-repourl-method\",\"deleted\":false,\"sender\":{\"gists_url\":\"https://api.github.com/users/flaxxen/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/flaxxen/repos\",\"following_url\":\"https://api.github.com/users/flaxxen/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/flaxxen/starred{/owner}{/repo}\",\"login\":\"flaxxen\",\"followers_url\":\"https://api.github.com/users/flaxxen/followers\",\"type\":\"User\",\"url\":\"https://api.github.com/users/flaxxen\",\"subscriptions_url\":\"https://api.github.com/users/flaxxen/subscriptions\",\"received_events_url\":\"https://api.github.com/users/flaxxen/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/7555347?v=4\",\"events_url\":\"https://api.github.com/users/flaxxen/events{/privacy}\",\"html_url\":\"https://github.com/flaxxen\",\"site_admin\":false,\"id\":7555347,\"gravatar_id\":\"\",\"node_id\":\"MDQ6VXNlcjc1NTUzNDc=\",\"organizations_url\":\"https://api.github.com/users/flaxxen/orgs\"},\"organization\":{\"issues_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/issues\",\"repos_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/repos\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/events\",\"members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/members{/member}\",\"description\":null,\"id\":124386993,\"hooks_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/hooks\",\"login\":\"DD2480-GROUP-2\",\"url\":\"https://api.github.com/orgs/DD2480-GROUP-2\",\"node_id\":\"O_kgDOB2n-sQ\",\"public_members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/public_members{/member}\"},\"commits\":[{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"9cae8b9316a0a0c1a025978939574b89b141df32\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[],\"id\":\"97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"message\":\"(feat) #2 Added maven.yml\\n\\nAdded maven.yml as a CI tool for our project. Needs to be tested with our file structure before merging.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"timestamp\":\"2023-02-02T16:48:31+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"078a2382856fefc97b3ff56aed56f06a4d7889b9\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"0d1ec82089138bda4030c9cf88e75be6d4373515\",\"message\":\"(feat) #4 add basic handle method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/0d1ec82089138bda4030c9cf88e75be6d4373515\",\"timestamp\":\"2023-02-06T14:08:04+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"47b90e82deeca6135ac6bc96ec0e16547e9bb8d8\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"message\":\"#5 Add framework for json parser\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"timestamp\":\"2023-02-06T14:39:00+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"17ee169c5af405ace50b63bba7cad13bc9ea15a3\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\".github/workflows/maven.yml\"],\"id\":\"6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"message\":\"Update maven.yml\\n\\n#2 changed java version on github CI tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"timestamp\":\"2023-02-06T16:14:49+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"afd9a58c7e3688d6f5139ffc2a251377b530b0ef\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"SnÃ¶ken\",\"email\":\"Arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[],\"id\":\"c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"message\":\"Merge pull request #17 from DD2480-GROUP-2/2-add-github-ci-tool\\n\\n#2 add GitHub ci tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"timestamp\":\"2023-02-06T16:27:43+01:00\"},{\"committer\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"51477757726c7773a592788dc15092a1ce917e0c\",\"message\":\"(feat) #13 Added dependency to Junit\\n\\nAdded dependency to Junit 5.9.2 in the pom.xml to make sure tests are\\nrunnable.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/51477757726c7773a592788dc15092a1ce917e0c\",\"timestamp\":\"2023-02-06T16:29:23+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"f319bf2c99199e28c9bd973ede34a90a72aaaca9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\".gitignore\"],\"id\":\"636305358ee1c50a451eac5f301724658eab6b23\",\"message\":\"(feat) #7 Added clonedirectoy to gitignore\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/636305358ee1c50a451eac5f301724658eab6b23\",\"timestamp\":\"2023-02-06T16:29:51+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"95ce1be425e628f643dd3994b6fcda94ebefb107\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"message\":\"(feat) #7 Adds cloneRepo method\\n\\nImplements a static method that clones from a repo-url into the clonedRepo folder from the base directory. The clonedRepo is in .gitignore\\n\\nPerhaps needs to add tests for this method?\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"timestamp\":\"2023-02-06T16:40:54+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"8a959d863edf62275f21227f3e4ab5e4ab965b9d\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"f3b767561f33a12ca2ec3b9842570736306efd55\",\"message\":\"(fix) #5 clean up method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/f3b767561f33a12ca2ec3b9842570736306efd55\",\"timestamp\":\"2023-02-06T16:45:51+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"message\":\"Merge pull request #18 from DD2480-GROUP-2/13-add-project-dependency-to-junit\\n\\n(feat) #13 Added dependency to Junit\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"timestamp\":\"2023-02-06T16:48:21+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2fbeb5653f3cbbbd5e3fd165beb10fa3369faea9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"985a5c0a336174909d12f80476bb063a99f5f851\",\"message\":\"(bugfix) #7  Fixed duplicate repo cloning\\n\\nFunction now deletes all files in clonedRepo folder so that a repository can be freshly cloned!\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/985a5c0a336174909d12f80476bb063a99f5f851\",\"timestamp\":\"2023-02-06T17:05:57+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"6b5bda9d0559e306de17533b2c446ebc5d8e4405\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"message\":\"(bugfix) #7 Small fix if directory does not exist\\n\\nImplements fix if directory does not exist, program does not try to remove this will crash the program.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"timestamp\":\"2023-02-06T17:16:16+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"b333ae1a659936ec8676aa894d324a2ac348d2f7\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"message\":\"Merge pull request #16 from DD2480-GROUP-2/4-server-handle-method\\n\\n(feat) #4 #5 server handle method and parse to json\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"timestamp\":\"2023-02-07T12:04:54+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"31d5f0fbf6b3cfcea92b5ab7995359e3a12ed400\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\".gitignore\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"message\":\"Merge pull request #19 from DD2480-GROUP-2/7-repo-clone-method\\n\\n(feat) #7 Adds cloneRepo method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"timestamp\":\"2023-02-07T14:20:27+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2101b9861bf483d1fc32c6e4fd212d964c3c00b2\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"message\":\"(bugfix) #7 Clone repo branch fix\\n\\nSimple fix so that the repo now can clone a particular branch\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"timestamp\":\"2023-02-07T14:38:22+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"message\":\"(feat) #7 CloneRepo tests\\n\\nImplements test cases for repository cloning method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"timestamp\":\"2023-02-07T14:48:35+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"}],\"after\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\"}\n";
        JSONObject examplePushRequestJSONObject = new JSONObject(examplePushRequestJSONString);
        assertEquals(server.getRepoURL(examplePushRequestJSONObject), "https://github.com/DD2480-GROUP-2/DD2480-CI.git", "Error: ssh url not parsed correctly from request.");

        String noRepoJSONString = "{\"pusher\":{\"name\":\"flaxxen\",\"email\":\"felixqvarfordt@gmail.com\"},\"compare\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/compare/b4fab067b5fb...7d067ab24a0c\",\"head_commit\":{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"},\"before\":\"b4fab067b5fbd17a0003a638906bd144219c3501\",\"created\":false,\"forced\":false,\"repository\":{\"allow_forking\":true,\"stargazers_count\":0,\"is_template\":false,\"pushed_at\":1675784123,\"subscription_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscription\",\"language\":\"Java\",\"branches_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/branches{/branch}\",\"issue_comment_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/comments{/number}\",\"labels_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/labels{/name}\",\"subscribers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscribers\",\"releases_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/releases{/id}\",\"svn_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"id\":596587333,\"has_discussions\":false,\"master_branch\":\"main\",\"forks\":0,\"archive_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/{archive_format}{/ref}\",\"git_refs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/refs{/sha}\",\"forks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/forks\",\"visibility\":\"public\",\"statuses_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/statuses/{sha}\",\"license\":null,\"full_name\":\"DD2480-GROUP-2/DD2480-CI\",\"size\":22,\"languages_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/languages\",\"html_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"collaborators_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/collaborators{/collaborator}\",\"name\":\"DD2480-CI\",\"pulls_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/pulls{/number}\",\"default_branch\":\"main\",\"hooks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/hooks\",\"trees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/trees{/sha}\",\"tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/tags\",\"private\":false,\"contributors_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contributors\",\"has_downloads\":true,\"notifications_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/notifications{?since,all,participating}\",\"open_issues_count\":8,\"description\":null,\"created_at\":1675347008,\"watchers\":0,\"keys_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/keys{/key_id}\",\"deployments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/deployments\",\"has_projects\":true,\"archived\":false,\"has_wiki\":true,\"updated_at\":\"2023-02-04T18:42:34Z\",\"comments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/comments{/number}\",\"stargazers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/stargazers\",\"disabled\":false,\"git_url\":\"git://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"has_pages\":false,\"owner\":{\"gists_url\":\"https://api.github.com/users/DD2480-GROUP-2/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/DD2480-GROUP-2/repos\",\"following_url\":\"https://api.github.com/users/DD2480-GROUP-2/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/DD2480-GROUP-2/starred{/owner}{/repo}\",\"login\":\"DD2480-GROUP-2\",\"followers_url\":\"https://api.github.com/users/DD2480-GROUP-2/followers\",\"type\":\"Organization\",\"url\":\"https://api.github.com/users/DD2480-GROUP-2\",\"subscriptions_url\":\"https://api.github.com/users/DD2480-GROUP-2/subscriptions\",\"received_events_url\":\"https://api.github.com/users/DD2480-GROUP-2/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/users/DD2480-GROUP-2/events{/privacy}\",\"html_url\":\"https://github.com/DD2480-GROUP-2\",\"name\":\"DD2480-GROUP-2\",\"site_admin\":false,\"id\":124386993,\"gravatar_id\":\"\",\"email\":null,\"node_id\":\"O_kgDOB2n-sQ\",\"organizations_url\":\"https://api.github.com/users/DD2480-GROUP-2/orgs\"},\"commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/commits{/sha}\",\"compare_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/compare/{base}...{head}\",\"git_commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/commits{/sha}\",\"topics\":[],\"blobs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/tags{/sha}\",\"merges_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/merges\",\"downloads_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/downloads\",\"has_issues\":true,\"web_commit_signoff_required\":false,\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"contents_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contents/{+path}\",\"mirror_url\":null,\"milestones_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/milestones{/number}\",\"teams_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/teams\",\"fork\":false,\"issues_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues{/number}\",\"stargazers\":0,\"events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/events\",\"issue_events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/events{/number}\",\"organization\":\"DD2480-GROUP-2\",\"assignees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/assignees{/user}\",\"open_issues\":8,\"watchers_count\":0,\"node_id\":\"R_kgDOI48zRQ\",\"homepage\":null,\"forks_count\":0},\"base_ref\":\"refs/heads/main\",\"ref\":\"refs/heads/6-get-repourl-method\",\"deleted\":false,\"sender\":{\"gists_url\":\"https://api.github.com/users/flaxxen/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/flaxxen/repos\",\"following_url\":\"https://api.github.com/users/flaxxen/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/flaxxen/starred{/owner}{/repo}\",\"login\":\"flaxxen\",\"followers_url\":\"https://api.github.com/users/flaxxen/followers\",\"type\":\"User\",\"url\":\"https://api.github.com/users/flaxxen\",\"subscriptions_url\":\"https://api.github.com/users/flaxxen/subscriptions\",\"received_events_url\":\"https://api.github.com/users/flaxxen/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/7555347?v=4\",\"events_url\":\"https://api.github.com/users/flaxxen/events{/privacy}\",\"html_url\":\"https://github.com/flaxxen\",\"site_admin\":false,\"id\":7555347,\"gravatar_id\":\"\",\"node_id\":\"MDQ6VXNlcjc1NTUzNDc=\",\"organizations_url\":\"https://api.github.com/users/flaxxen/orgs\"},\"organization\":{\"issues_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/issues\",\"repos_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/repos\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/events\",\"members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/members{/member}\",\"description\":null,\"id\":124386993,\"hooks_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/hooks\",\"login\":\"DD2480-GROUP-2\",\"url\":\"https://api.github.com/orgs/DD2480-GROUP-2\",\"node_id\":\"O_kgDOB2n-sQ\",\"public_members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/public_members{/member}\"},\"commits\":[{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"9cae8b9316a0a0c1a025978939574b89b141df32\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[],\"id\":\"97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"message\":\"(feat) #2 Added maven.yml\\n\\nAdded maven.yml as a CI tool for our project. Needs to be tested with our file structure before merging.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"timestamp\":\"2023-02-02T16:48:31+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"078a2382856fefc97b3ff56aed56f06a4d7889b9\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"0d1ec82089138bda4030c9cf88e75be6d4373515\",\"message\":\"(feat) #4 add basic handle method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/0d1ec82089138bda4030c9cf88e75be6d4373515\",\"timestamp\":\"2023-02-06T14:08:04+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"47b90e82deeca6135ac6bc96ec0e16547e9bb8d8\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"message\":\"#5 Add framework for json parser\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"timestamp\":\"2023-02-06T14:39:00+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"17ee169c5af405ace50b63bba7cad13bc9ea15a3\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\".github/workflows/maven.yml\"],\"id\":\"6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"message\":\"Update maven.yml\\n\\n#2 changed java version on github CI tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"timestamp\":\"2023-02-06T16:14:49+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"afd9a58c7e3688d6f5139ffc2a251377b530b0ef\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"SnÃ¶ken\",\"email\":\"Arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[],\"id\":\"c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"message\":\"Merge pull request #17 from DD2480-GROUP-2/2-add-github-ci-tool\\n\\n#2 add GitHub ci tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"timestamp\":\"2023-02-06T16:27:43+01:00\"},{\"committer\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"51477757726c7773a592788dc15092a1ce917e0c\",\"message\":\"(feat) #13 Added dependency to Junit\\n\\nAdded dependency to Junit 5.9.2 in the pom.xml to make sure tests are\\nrunnable.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/51477757726c7773a592788dc15092a1ce917e0c\",\"timestamp\":\"2023-02-06T16:29:23+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"f319bf2c99199e28c9bd973ede34a90a72aaaca9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\".gitignore\"],\"id\":\"636305358ee1c50a451eac5f301724658eab6b23\",\"message\":\"(feat) #7 Added clonedirectoy to gitignore\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/636305358ee1c50a451eac5f301724658eab6b23\",\"timestamp\":\"2023-02-06T16:29:51+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"95ce1be425e628f643dd3994b6fcda94ebefb107\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"message\":\"(feat) #7 Adds cloneRepo method\\n\\nImplements a static method that clones from a repo-url into the clonedRepo folder from the base directory. The clonedRepo is in .gitignore\\n\\nPerhaps needs to add tests for this method?\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"timestamp\":\"2023-02-06T16:40:54+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"8a959d863edf62275f21227f3e4ab5e4ab965b9d\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"f3b767561f33a12ca2ec3b9842570736306efd55\",\"message\":\"(fix) #5 clean up method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/f3b767561f33a12ca2ec3b9842570736306efd55\",\"timestamp\":\"2023-02-06T16:45:51+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"message\":\"Merge pull request #18 from DD2480-GROUP-2/13-add-project-dependency-to-junit\\n\\n(feat) #13 Added dependency to Junit\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"timestamp\":\"2023-02-06T16:48:21+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2fbeb5653f3cbbbd5e3fd165beb10fa3369faea9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"985a5c0a336174909d12f80476bb063a99f5f851\",\"message\":\"(bugfix) #7  Fixed duplicate repo cloning\\n\\nFunction now deletes all files in clonedRepo folder so that a repository can be freshly cloned!\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/985a5c0a336174909d12f80476bb063a99f5f851\",\"timestamp\":\"2023-02-06T17:05:57+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"6b5bda9d0559e306de17533b2c446ebc5d8e4405\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"message\":\"(bugfix) #7 Small fix if directory does not exist\\n\\nImplements fix if directory does not exist, program does not try to remove this will crash the program.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"timestamp\":\"2023-02-06T17:16:16+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"b333ae1a659936ec8676aa894d324a2ac348d2f7\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"message\":\"Merge pull request #16 from DD2480-GROUP-2/4-server-handle-method\\n\\n(feat) #4 #5 server handle method and parse to json\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"timestamp\":\"2023-02-07T12:04:54+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"31d5f0fbf6b3cfcea92b5ab7995359e3a12ed400\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\".gitignore\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"message\":\"Merge pull request #19 from DD2480-GROUP-2/7-repo-clone-method\\n\\n(feat) #7 Adds cloneRepo method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"timestamp\":\"2023-02-07T14:20:27+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2101b9861bf483d1fc32c6e4fd212d964c3c00b2\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"message\":\"(bugfix) #7 Clone repo branch fix\\n\\nSimple fix so that the repo now can clone a particular branch\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"timestamp\":\"2023-02-07T14:38:22+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"message\":\"(feat) #7 CloneRepo tests\\n\\nImplements test cases for repository cloning method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"timestamp\":\"2023-02-07T14:48:35+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"}],\"after\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\"}\n";
        JSONObject noRepoJSONObject = new JSONObject(noRepoJSONString);
        assertNull(server.getRepoURL(noRepoJSONObject), "Error: getRepoUrl returned a string even though there is no repository ssh url in the object");
    }
    
    @Test
    public void TestDummyFunction(){
        assertTrue(ContinuousIntegrationServer.dummyFunction()==123, "Error, the dummy function should return 123");
    }

    /**
     * Test that the ContinuousIntegrationServer getPushedBranch method gets the right string for the branch in the
     * case of a normal request.
     */
    @Test
    public void TestGetPushedBranch() {
        ContinuousIntegrationServer ci = new ContinuousIntegrationServer();
        String examplePushRequestJSONString = "{\"pusher\":{\"name\":\"flaxxen\",\"email\":\"felixqvarfordt@gmail.com\"},\"compare\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/compare/b4fab067b5fb...7d067ab24a0c\",\"head_commit\":{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"},\"before\":\"b4fab067b5fbd17a0003a638906bd144219c3501\",\"created\":false,\"forced\":false,\"repository\":{\"allow_forking\":true,\"stargazers_count\":0,\"is_template\":false,\"pushed_at\":1675784123,\"subscription_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscription\",\"language\":\"Java\",\"branches_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/branches{/branch}\",\"issue_comment_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/comments{/number}\",\"labels_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/labels{/name}\",\"subscribers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscribers\",\"releases_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/releases{/id}\",\"svn_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"id\":596587333,\"has_discussions\":false,\"master_branch\":\"main\",\"forks\":0,\"archive_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/{archive_format}{/ref}\",\"git_refs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/refs{/sha}\",\"forks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/forks\",\"visibility\":\"public\",\"statuses_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/statuses/{sha}\",\"ssh_url\":\"git@github.com:DD2480-GROUP-2/DD2480-CI.git\",\"license\":null,\"full_name\":\"DD2480-GROUP-2/DD2480-CI\",\"size\":22,\"languages_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/languages\",\"html_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"collaborators_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/collaborators{/collaborator}\",\"clone_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"name\":\"DD2480-CI\",\"pulls_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/pulls{/number}\",\"default_branch\":\"main\",\"hooks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/hooks\",\"trees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/trees{/sha}\",\"tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/tags\",\"private\":false,\"contributors_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contributors\",\"has_downloads\":true,\"notifications_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/notifications{?since,all,participating}\",\"open_issues_count\":8,\"description\":null,\"created_at\":1675347008,\"watchers\":0,\"keys_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/keys{/key_id}\",\"deployments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/deployments\",\"has_projects\":true,\"archived\":false,\"has_wiki\":true,\"updated_at\":\"2023-02-04T18:42:34Z\",\"comments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/comments{/number}\",\"stargazers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/stargazers\",\"disabled\":false,\"git_url\":\"git://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"has_pages\":false,\"owner\":{\"gists_url\":\"https://api.github.com/users/DD2480-GROUP-2/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/DD2480-GROUP-2/repos\",\"following_url\":\"https://api.github.com/users/DD2480-GROUP-2/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/DD2480-GROUP-2/starred{/owner}{/repo}\",\"login\":\"DD2480-GROUP-2\",\"followers_url\":\"https://api.github.com/users/DD2480-GROUP-2/followers\",\"type\":\"Organization\",\"url\":\"https://api.github.com/users/DD2480-GROUP-2\",\"subscriptions_url\":\"https://api.github.com/users/DD2480-GROUP-2/subscriptions\",\"received_events_url\":\"https://api.github.com/users/DD2480-GROUP-2/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/users/DD2480-GROUP-2/events{/privacy}\",\"html_url\":\"https://github.com/DD2480-GROUP-2\",\"name\":\"DD2480-GROUP-2\",\"site_admin\":false,\"id\":124386993,\"gravatar_id\":\"\",\"email\":null,\"node_id\":\"O_kgDOB2n-sQ\",\"organizations_url\":\"https://api.github.com/users/DD2480-GROUP-2/orgs\"},\"commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/commits{/sha}\",\"compare_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/compare/{base}...{head}\",\"git_commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/commits{/sha}\",\"topics\":[],\"blobs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/tags{/sha}\",\"merges_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/merges\",\"downloads_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/downloads\",\"has_issues\":true,\"web_commit_signoff_required\":false,\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"contents_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contents/{+path}\",\"mirror_url\":null,\"milestones_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/milestones{/number}\",\"teams_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/teams\",\"fork\":false,\"issues_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues{/number}\",\"stargazers\":0,\"events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/events\",\"issue_events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/events{/number}\",\"organization\":\"DD2480-GROUP-2\",\"assignees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/assignees{/user}\",\"open_issues\":8,\"watchers_count\":0,\"node_id\":\"R_kgDOI48zRQ\",\"homepage\":null,\"forks_count\":0},\"base_ref\":\"refs/heads/main\",\"ref\":\"refs/heads/6-get-repourl-method\",\"deleted\":false,\"sender\":{\"gists_url\":\"https://api.github.com/users/flaxxen/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/flaxxen/repos\",\"following_url\":\"https://api.github.com/users/flaxxen/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/flaxxen/starred{/owner}{/repo}\",\"login\":\"flaxxen\",\"followers_url\":\"https://api.github.com/users/flaxxen/followers\",\"type\":\"User\",\"url\":\"https://api.github.com/users/flaxxen\",\"subscriptions_url\":\"https://api.github.com/users/flaxxen/subscriptions\",\"received_events_url\":\"https://api.github.com/users/flaxxen/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/7555347?v=4\",\"events_url\":\"https://api.github.com/users/flaxxen/events{/privacy}\",\"html_url\":\"https://github.com/flaxxen\",\"site_admin\":false,\"id\":7555347,\"gravatar_id\":\"\",\"node_id\":\"MDQ6VXNlcjc1NTUzNDc=\",\"organizations_url\":\"https://api.github.com/users/flaxxen/orgs\"},\"organization\":{\"issues_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/issues\",\"repos_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/repos\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/events\",\"members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/members{/member}\",\"description\":null,\"id\":124386993,\"hooks_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/hooks\",\"login\":\"DD2480-GROUP-2\",\"url\":\"https://api.github.com/orgs/DD2480-GROUP-2\",\"node_id\":\"O_kgDOB2n-sQ\",\"public_members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/public_members{/member}\"},\"commits\":[{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"9cae8b9316a0a0c1a025978939574b89b141df32\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[],\"id\":\"97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"message\":\"(feat) #2 Added maven.yml\\n\\nAdded maven.yml as a CI tool for our project. Needs to be tested with our file structure before merging.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"timestamp\":\"2023-02-02T16:48:31+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"078a2382856fefc97b3ff56aed56f06a4d7889b9\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"0d1ec82089138bda4030c9cf88e75be6d4373515\",\"message\":\"(feat) #4 add basic handle method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/0d1ec82089138bda4030c9cf88e75be6d4373515\",\"timestamp\":\"2023-02-06T14:08:04+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"47b90e82deeca6135ac6bc96ec0e16547e9bb8d8\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"message\":\"#5 Add framework for json parser\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"timestamp\":\"2023-02-06T14:39:00+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"17ee169c5af405ace50b63bba7cad13bc9ea15a3\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\".github/workflows/maven.yml\"],\"id\":\"6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"message\":\"Update maven.yml\\n\\n#2 changed java version on github CI tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"timestamp\":\"2023-02-06T16:14:49+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"afd9a58c7e3688d6f5139ffc2a251377b530b0ef\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"SnÃ¶ken\",\"email\":\"Arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[],\"id\":\"c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"message\":\"Merge pull request #17 from DD2480-GROUP-2/2-add-github-ci-tool\\n\\n#2 add GitHub ci tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"timestamp\":\"2023-02-06T16:27:43+01:00\"},{\"committer\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"51477757726c7773a592788dc15092a1ce917e0c\",\"message\":\"(feat) #13 Added dependency to Junit\\n\\nAdded dependency to Junit 5.9.2 in the pom.xml to make sure tests are\\nrunnable.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/51477757726c7773a592788dc15092a1ce917e0c\",\"timestamp\":\"2023-02-06T16:29:23+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"f319bf2c99199e28c9bd973ede34a90a72aaaca9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\".gitignore\"],\"id\":\"636305358ee1c50a451eac5f301724658eab6b23\",\"message\":\"(feat) #7 Added clonedirectoy to gitignore\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/636305358ee1c50a451eac5f301724658eab6b23\",\"timestamp\":\"2023-02-06T16:29:51+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"95ce1be425e628f643dd3994b6fcda94ebefb107\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"message\":\"(feat) #7 Adds cloneRepo method\\n\\nImplements a static method that clones from a repo-url into the clonedRepo folder from the base directory. The clonedRepo is in .gitignore\\n\\nPerhaps needs to add tests for this method?\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"timestamp\":\"2023-02-06T16:40:54+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"8a959d863edf62275f21227f3e4ab5e4ab965b9d\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"f3b767561f33a12ca2ec3b9842570736306efd55\",\"message\":\"(fix) #5 clean up method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/f3b767561f33a12ca2ec3b9842570736306efd55\",\"timestamp\":\"2023-02-06T16:45:51+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"message\":\"Merge pull request #18 from DD2480-GROUP-2/13-add-project-dependency-to-junit\\n\\n(feat) #13 Added dependency to Junit\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"timestamp\":\"2023-02-06T16:48:21+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2fbeb5653f3cbbbd5e3fd165beb10fa3369faea9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"985a5c0a336174909d12f80476bb063a99f5f851\",\"message\":\"(bugfix) #7  Fixed duplicate repo cloning\\n\\nFunction now deletes all files in clonedRepo folder so that a repository can be freshly cloned!\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/985a5c0a336174909d12f80476bb063a99f5f851\",\"timestamp\":\"2023-02-06T17:05:57+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"6b5bda9d0559e306de17533b2c446ebc5d8e4405\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"message\":\"(bugfix) #7 Small fix if directory does not exist\\n\\nImplements fix if directory does not exist, program does not try to remove this will crash the program.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"timestamp\":\"2023-02-06T17:16:16+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"b333ae1a659936ec8676aa894d324a2ac348d2f7\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"message\":\"Merge pull request #16 from DD2480-GROUP-2/4-server-handle-method\\n\\n(feat) #4 #5 server handle method and parse to json\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"timestamp\":\"2023-02-07T12:04:54+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"31d5f0fbf6b3cfcea92b5ab7995359e3a12ed400\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\".gitignore\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"message\":\"Merge pull request #19 from DD2480-GROUP-2/7-repo-clone-method\\n\\n(feat) #7 Adds cloneRepo method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"timestamp\":\"2023-02-07T14:20:27+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2101b9861bf483d1fc32c6e4fd212d964c3c00b2\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"message\":\"(bugfix) #7 Clone repo branch fix\\n\\nSimple fix so that the repo now can clone a particular branch\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"timestamp\":\"2023-02-07T14:38:22+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"message\":\"(feat) #7 CloneRepo tests\\n\\nImplements test cases for repository cloning method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"timestamp\":\"2023-02-07T14:48:35+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"}],\"after\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\"}\n";
        JSONObject examplePushRequestJSONObject = new JSONObject(examplePushRequestJSONString);
        assertEquals(ci.getPushedBranch(examplePushRequestJSONObject), "6-get-repourl-method", "Error: Got the wrong name for the pushed branch");
    }

    /**
     * Tests that the compileMvnProject function compiles a Maven project that is compilable.
     */
    @Test
    public void TestCompileCorrectProject() {
        ContinuousIntegrationServer CIs = new ContinuousIntegrationServer();
        boolean compileStatus = CIs.compileMvnProject("./testBuilds/testCorrectCompile");
        assertTrue(compileStatus, "Error: Project should compile correctly");
    }

    /**
     * Tests that the compileMvnProject function does not compile a Maven project that is not compilable.
     */
    @Test
    public void TestCompileFailProject() {
        ContinuousIntegrationServer CIs = new ContinuousIntegrationServer();
        boolean compileStatus = CIs.compileMvnProject("./testBuilds/testFailCompile");
        assertFalse(compileStatus, "Error: Project should not compile correctly");
    }

    /**
     * Tests that the testMvnProject function test a Maven project where all tests should pass.
     */
    @Test
    public void TestTestCorrectProject() {
        ContinuousIntegrationServer CIs = new ContinuousIntegrationServer();
        boolean compileStatus = CIs.compileMvnProject("./testBuilds/testCorrectCompile");
        assertTrue(compileStatus, "Error: Project should compile correctly");

        boolean testStatus = CIs.testMvnProject("./testBuilds/testCorrectCompile", null);
        assertTrue(testStatus, "Error: Tests should go through");
    }

    /**
     * Tests that the testMvnProject function test a Maven project where some tests should fail. Checks that project compiles and tests fail.
     */
    @Test
    public void TestTestFailProject() {
        ContinuousIntegrationServer CIs = new ContinuousIntegrationServer();
        boolean compileStatus = CIs.compileMvnProject("./testBuilds/testFailTest");
        assertTrue(compileStatus, "Error: Project should compile correctly");

        boolean testStatus = CIs.testMvnProject("./testBuilds/testFailTest", null);
        assertFalse(testStatus, "Error: Project should not pass all tests");
    }

        /**
     * Tests the createBuildLogFile by calling the function with a specific JSONObject "after"-key (which becomes the name of the file) then checking that a file with that name has been created.
     */
    @Test
    public void TestCreateBuildLogFile() {
        ContinuousIntegrationServer CIs = new ContinuousIntegrationServer();
        CIs.createBuildLogFile(new JSONObject("{\"pusher\":{\"name\":\"flaxxen\",\"email\":\"felixqvarfordt@gmail.com\"},\"compare\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/compare/b4fab067b5fb...7d067ab24a0c\",\"head_commit\":{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"},\"before\":\"b4fab067b5fbd17a0003a638906bd144219c3501\",\"created\":false,\"forced\":false,\"repository\":{\"allow_forking\":true,\"stargazers_count\":0,\"is_template\":false,\"pushed_at\":1675784123,\"subscription_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscription\",\"language\":\"Java\",\"branches_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/branches{/branch}\",\"issue_comment_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/comments{/number}\",\"labels_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/labels{/name}\",\"subscribers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/subscribers\",\"releases_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/releases{/id}\",\"svn_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"id\":596587333,\"has_discussions\":false,\"master_branch\":\"main\",\"forks\":0,\"archive_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/{archive_format}{/ref}\",\"git_refs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/refs{/sha}\",\"forks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/forks\",\"visibility\":\"public\",\"statuses_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/statuses/{sha}\",\"ssh_url\":\"git@github.com:DD2480-GROUP-2/DD2480-CI.git\",\"license\":null,\"full_name\":\"DD2480-GROUP-2/DD2480-CI\",\"size\":22,\"languages_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/languages\",\"html_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"collaborators_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/collaborators{/collaborator}\",\"clone_url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"name\":\"DD2480-CI\",\"pulls_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/pulls{/number}\",\"default_branch\":\"main\",\"hooks_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/hooks\",\"trees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/trees{/sha}\",\"tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/tags\",\"private\":false,\"contributors_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contributors\",\"has_downloads\":true,\"notifications_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/notifications{?since,all,participating}\",\"open_issues_count\":8,\"description\":null,\"created_at\":1675347008,\"watchers\":0,\"keys_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/keys{/key_id}\",\"deployments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/deployments\",\"has_projects\":true,\"archived\":false,\"has_wiki\":true,\"updated_at\":\"2023-02-04T18:42:34Z\",\"comments_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/comments{/number}\",\"stargazers_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/stargazers\",\"disabled\":false,\"git_url\":\"git://github.com/DD2480-GROUP-2/DD2480-CI.git\",\"has_pages\":false,\"owner\":{\"gists_url\":\"https://api.github.com/users/DD2480-GROUP-2/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/DD2480-GROUP-2/repos\",\"following_url\":\"https://api.github.com/users/DD2480-GROUP-2/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/DD2480-GROUP-2/starred{/owner}{/repo}\",\"login\":\"DD2480-GROUP-2\",\"followers_url\":\"https://api.github.com/users/DD2480-GROUP-2/followers\",\"type\":\"Organization\",\"url\":\"https://api.github.com/users/DD2480-GROUP-2\",\"subscriptions_url\":\"https://api.github.com/users/DD2480-GROUP-2/subscriptions\",\"received_events_url\":\"https://api.github.com/users/DD2480-GROUP-2/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/users/DD2480-GROUP-2/events{/privacy}\",\"html_url\":\"https://github.com/DD2480-GROUP-2\",\"name\":\"DD2480-GROUP-2\",\"site_admin\":false,\"id\":124386993,\"gravatar_id\":\"\",\"email\":null,\"node_id\":\"O_kgDOB2n-sQ\",\"organizations_url\":\"https://api.github.com/users/DD2480-GROUP-2/orgs\"},\"commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/commits{/sha}\",\"compare_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/compare/{base}...{head}\",\"git_commits_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/commits{/sha}\",\"topics\":[],\"blobs_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/git/tags{/sha}\",\"merges_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/merges\",\"downloads_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/downloads\",\"has_issues\":true,\"web_commit_signoff_required\":false,\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI\",\"contents_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/contents/{+path}\",\"mirror_url\":null,\"milestones_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/milestones{/number}\",\"teams_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/teams\",\"fork\":false,\"issues_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues{/number}\",\"stargazers\":0,\"events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/events\",\"issue_events_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/issues/events{/number}\",\"organization\":\"DD2480-GROUP-2\",\"assignees_url\":\"https://api.github.com/repos/DD2480-GROUP-2/DD2480-CI/assignees{/user}\",\"open_issues\":8,\"watchers_count\":0,\"node_id\":\"R_kgDOI48zRQ\",\"homepage\":null,\"forks_count\":0},\"base_ref\":\"refs/heads/main\",\"ref\":\"refs/heads/6-get-repourl-method\",\"deleted\":false,\"sender\":{\"gists_url\":\"https://api.github.com/users/flaxxen/gists{/gist_id}\",\"repos_url\":\"https://api.github.com/users/flaxxen/repos\",\"following_url\":\"https://api.github.com/users/flaxxen/following{/other_user}\",\"starred_url\":\"https://api.github.com/users/flaxxen/starred{/owner}{/repo}\",\"login\":\"flaxxen\",\"followers_url\":\"https://api.github.com/users/flaxxen/followers\",\"type\":\"User\",\"url\":\"https://api.github.com/users/flaxxen\",\"subscriptions_url\":\"https://api.github.com/users/flaxxen/subscriptions\",\"received_events_url\":\"https://api.github.com/users/flaxxen/received_events\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/7555347?v=4\",\"events_url\":\"https://api.github.com/users/flaxxen/events{/privacy}\",\"html_url\":\"https://github.com/flaxxen\",\"site_admin\":false,\"id\":7555347,\"gravatar_id\":\"\",\"node_id\":\"MDQ6VXNlcjc1NTUzNDc=\",\"organizations_url\":\"https://api.github.com/users/flaxxen/orgs\"},\"organization\":{\"issues_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/issues\",\"repos_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/repos\",\"avatar_url\":\"https://avatars.githubusercontent.com/u/124386993?v=4\",\"events_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/events\",\"members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/members{/member}\",\"description\":null,\"id\":124386993,\"hooks_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/hooks\",\"login\":\"DD2480-GROUP-2\",\"url\":\"https://api.github.com/orgs/DD2480-GROUP-2\",\"node_id\":\"O_kgDOB2n-sQ\",\"public_members_url\":\"https://api.github.com/orgs/DD2480-GROUP-2/public_members{/member}\"},\"commits\":[{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"9cae8b9316a0a0c1a025978939574b89b141df32\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[],\"id\":\"97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"message\":\"(feat) #2 Added maven.yml\\n\\nAdded maven.yml as a CI tool for our project. Needs to be tested with our file structure before merging.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/97db18770fe955b9d30ecfcf58ca6f55573ae037\",\"timestamp\":\"2023-02-02T16:48:31+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"078a2382856fefc97b3ff56aed56f06a4d7889b9\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"0d1ec82089138bda4030c9cf88e75be6d4373515\",\"message\":\"(feat) #4 add basic handle method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/0d1ec82089138bda4030c9cf88e75be6d4373515\",\"timestamp\":\"2023-02-06T14:08:04+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"47b90e82deeca6135ac6bc96ec0e16547e9bb8d8\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"message\":\"#5 Add framework for json parser\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/4e1325c1866edd7ca9c6cd9fc3b71e7f8bb06e2b\",\"timestamp\":\"2023-02-06T14:39:00+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"17ee169c5af405ace50b63bba7cad13bc9ea15a3\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\".github/workflows/maven.yml\"],\"id\":\"6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"message\":\"Update maven.yml\\n\\n#2 changed java version on github CI tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/6e7e8ba74bbcc174f4626504b5a538c1862ed6c6\",\"timestamp\":\"2023-02-06T16:14:49+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"afd9a58c7e3688d6f5139ffc2a251377b530b0ef\",\"added\":[\".github/workflows/maven.yml\"],\"author\":{\"name\":\"SnÃ¶ken\",\"email\":\"Arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[],\"id\":\"c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"message\":\"Merge pull request #17 from DD2480-GROUP-2/2-add-github-ci-tool\\n\\n#2 add GitHub ci tool\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/c19d0c2dc13d15cb52d7ddf1997728465d16943d\",\"timestamp\":\"2023-02-06T16:27:43+01:00\"},{\"committer\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixq@kth.se\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"51477757726c7773a592788dc15092a1ce917e0c\",\"message\":\"(feat) #13 Added dependency to Junit\\n\\nAdded dependency to Junit 5.9.2 in the pom.xml to make sure tests are\\nrunnable.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/51477757726c7773a592788dc15092a1ce917e0c\",\"timestamp\":\"2023-02-06T16:29:23+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"f319bf2c99199e28c9bd973ede34a90a72aaaca9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\".gitignore\"],\"id\":\"636305358ee1c50a451eac5f301724658eab6b23\",\"message\":\"(feat) #7 Added clonedirectoy to gitignore\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/636305358ee1c50a451eac5f301724658eab6b23\",\"timestamp\":\"2023-02-06T16:29:51+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"95ce1be425e628f643dd3994b6fcda94ebefb107\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"message\":\"(feat) #7 Adds cloneRepo method\\n\\nImplements a static method that clones from a repo-url into the clonedRepo folder from the base directory. The clonedRepo is in .gitignore\\n\\nPerhaps needs to add tests for this method?\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/3cee6c8ba4f4b1cc144ee6240d0e32cc2e586602\",\"timestamp\":\"2023-02-06T16:40:54+01:00\"},{\"committer\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"removed\":[],\"tree_id\":\"8a959d863edf62275f21227f3e4ab5e4ab965b9d\",\"added\":[],\"author\":{\"name\":\"snumlautoken\",\"email\":\"arami@live.se\",\"username\":\"snumlautoken\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"f3b767561f33a12ca2ec3b9842570736306efd55\",\"message\":\"(fix) #5 clean up method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/f3b767561f33a12ca2ec3b9842570736306efd55\",\"timestamp\":\"2023-02-06T16:45:51+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"1a105b0c96b97a286ec1eaf18b0272f83c3e8661\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\"],\"id\":\"b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"message\":\"Merge pull request #18 from DD2480-GROUP-2/13-add-project-dependency-to-junit\\n\\n(feat) #13 Added dependency to Junit\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/b8b50e9b24121e814f81e6115ff3f283cdc859ac\",\"timestamp\":\"2023-02-06T16:48:21+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2fbeb5653f3cbbbd5e3fd165beb10fa3369faea9\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"985a5c0a336174909d12f80476bb063a99f5f851\",\"message\":\"(bugfix) #7  Fixed duplicate repo cloning\\n\\nFunction now deletes all files in clonedRepo folder so that a repository can be freshly cloned!\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/985a5c0a336174909d12f80476bb063a99f5f851\",\"timestamp\":\"2023-02-06T17:05:57+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"6b5bda9d0559e306de17533b2c446ebc5d8e4405\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"message\":\"(bugfix) #7 Small fix if directory does not exist\\n\\nImplements fix if directory does not exist, program does not try to remove this will crash the program.\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/5ba009ac87ebbce794bd6529c1ed1ffe80450b29\",\"timestamp\":\"2023-02-06T17:16:16+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"b333ae1a659936ec8676aa894d324a2ac348d2f7\",\"added\":[],\"author\":{\"name\":\"Felix Qvarfordt\",\"email\":\"felixqvarfordt@gmail.com\",\"username\":\"flaxxen\"},\"distinct\":false,\"modified\":[\"pom.xml\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"message\":\"Merge pull request #16 from DD2480-GROUP-2/4-server-handle-method\\n\\n(feat) #4 #5 server handle method and parse to json\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/e7d5ab28b250b70cfc3bdc7d5a7932f804ab9380\",\"timestamp\":\"2023-02-07T12:04:54+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"31d5f0fbf6b3cfcea92b5ab7995359e3a12ed400\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\".gitignore\",\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"message\":\"Merge pull request #19 from DD2480-GROUP-2/7-repo-clone-method\\n\\n(feat) #7 Adds cloneRepo method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/880eee2c5d0edd1abbd0107e7d4663ad2504a07d\",\"timestamp\":\"2023-02-07T14:20:27+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"2101b9861bf483d1fc32c6e4fd212d964c3c00b2\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\"],\"id\":\"45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"message\":\"(bugfix) #7 Clone repo branch fix\\n\\nSimple fix so that the repo now can clone a particular branch\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/45529bb0e5e4dff782ea0a8d5b88c099439e2e04\",\"timestamp\":\"2023-02-07T14:38:22+01:00\"},{\"committer\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"oskarsva@kth.se\"},\"distinct\":false,\"modified\":[\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"message\":\"(feat) #7 CloneRepo tests\\n\\nImplements test cases for repository cloning method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/404ba12621799ab29e465c8c8eb5478e4f07aa5f\",\"timestamp\":\"2023-02-07T14:48:35+01:00\"},{\"committer\":{\"name\":\"GitHub\",\"email\":\"noreply@github.com\",\"username\":\"web-flow\"},\"removed\":[],\"tree_id\":\"d6bc123d50e2a19bf58232cb162d0e3bfb0dde2a\",\"added\":[],\"author\":{\"name\":\"Oskar SvanstrÃ¶m\",\"email\":\"65446534+Osksacho@users.noreply.github.com\",\"username\":\"Osksacho\"},\"distinct\":false,\"modified\":[\"src/main/java/org/Group2/ContinuousIntegrationServer.java\",\"src/test/java/ContinousIntegrationServerTests.java\"],\"id\":\"7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"message\":\"Merge pull request #25 from DD2480-GROUP-2/7-repo-clone-method\\n\\n7 repo clone method\",\"url\":\"https://github.com/DD2480-GROUP-2/DD2480-CI/commit/7d067ab24a0cc9bd53bfae64d98f7fa8245ab98a\",\"timestamp\":\"2023-02-07T15:01:24+01:00\"}],\"after\":\"TestCreateBuildLogFile\"}\n"));

        File file = new File("./builds/TestCreateBuildLogFile.log");
        assertTrue(file.isFile(), "Error: Should create file /builds/TestCreateBuildLogFile.log");
        file.delete();
    }

    /**
     * Tests the writeToFile function by writing a string to a file and then reading from the file and asserting that the input string is the same as the output string
     */
    @Test
    public void TestWriteToFile() {
        ContinuousIntegrationServer CIs = new ContinuousIntegrationServer();
        File file = new File("./test.txt");
        String stringToWrite = "This is the string";
        CIs.writeToFile(file, stringToWrite);

        StringBuilder strB = new StringBuilder();
        try {
            Scanner myReader = new Scanner(file);
            while (myReader.hasNextLine()) {
                strB.append(myReader.nextLine());
            }
            myReader.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
        assertTrue(stringToWrite.equals(strB.toString()));
        file.delete();
    }
}

